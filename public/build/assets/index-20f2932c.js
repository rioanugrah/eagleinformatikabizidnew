import{r as c,j as e,y as r}from"./app-09f0cebb.js";import{A as x}from"./appLayout-bac20d4d.js";import"./icon-5cb206d5.js";import"./IconCheck-c5fcb93b.js";import"./XMarkIcon-ee465076.js";import"./index-c5af9afc.js";import"./label-d4319d13.js";import"./dialog-fa4ebf60.js";import"./floating-ui.react-dom-e132892f.js";import"./menuadministrator-536dbff7.js";import"./menuUser-88343c63.js";import"./index-a0b2995f.js";import"./logo_eagle_media_informatika-285b6851.js";function g(t){const[u,l]=c.useState(!1),n=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(s),o=`(${t.ppn.ppn_name})`,i=JSON.parse(t.billing.billing_buyer);c.useEffect(()=>{{const s="https://app.sandbox.midtrans.com/snap/snap.js",d="SB-Mid-client-5JTwHNpWJkJrLtOn",a=document.createElement("script");return a.src=s,a.setAttribute("data-client-key",d),a.async=!0,document.body.appendChild(a),()=>{document.body.removeChild(a)}}},[]);const m=async()=>{l(!0),window.snap.pay(t.billing.billing_references,{onSuccess:s=>{r.get(route("order.detail",[t.billing.order_id])),l(!1)},onPending:s=>{r.get(route("order.detail",[t.billing.order_id])),l(!1)},onError:s=>{r.get(route("order.detail",[t.billing.order_id])),l(!1)},onClose:()=>{console.log("customer close the popup window without the finishing the payment"),alert("customer close the popup window without the finishing the payment"),r.get(route("dashboard")),l(!1)}})};return e.jsx(e.Fragment,{children:e.jsxs("main",{className:"relative lg:min-h-full",children:[e.jsx("div",{className:"h-80 overflow-hidden lg:absolute lg:h-full lg:w-1/2 lg:pr-4 xl:pr-12",children:e.jsx("img",{alt:"TODO",src:"https://tailwindui.com/img/ecommerce-images/confirmation-page-06-hero.jpg",className:"h-full w-full object-cover object-center"})}),e.jsx("div",{children:e.jsx("div",{className:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:grid lg:max-w-7xl lg:grid-cols-2 lg:gap-x-8 lg:px-8 lg:py-32 xl:gap-x-24",children:e.jsxs("div",{className:"lg:col-start-2",children:[e.jsx("h1",{className:"text-sm font-medium text-indigo-600",children:"Waiting Payment"}),e.jsx("p",{className:"mt-2 text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl",children:"Thanks for ordering"}),e.jsx("p",{className:"mt-2 text-base text-gray-500",children:"We appreciate your order, we’re currently processing it. So hang tight and we’ll send you confirmation very soon!"}),e.jsxs("dl",{className:"mt-16 text-sm font-medium",children:[e.jsx("dt",{className:"text-gray-900",children:"Tracking number"}),e.jsx("dd",{className:"mt-2 text-indigo-600",children:t.billing.billing_code})]}),e.jsx("ul",{className:"mt-6 divide-y divide-gray-200 border-t border-gray-200 text-sm font-medium text-gray-500",children:t.billing.invoice.invoice_details.map((s,d)=>e.jsxs("li",{className:"flex space-x-6 py-6",children:[e.jsx("div",{className:"flex-auto space-y-1",children:e.jsx("h3",{className:"text-gray-900",children:e.jsx("a",{children:s.item.split("|")[1]})})}),e.jsx("p",{className:"flex-none font-medium text-gray-900",children:n(s.amount)})]},s.id))}),e.jsxs("dl",{className:"space-y-6 border-t border-gray-200 pt-6 text-sm font-medium text-gray-500",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("dt",{children:["Taxes (",o,")"]}),e.jsx("dd",{className:"text-gray-900",children:n(t.billing.tax)})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6 text-gray-900",children:[e.jsx("dt",{className:"text-base",children:"Total"}),e.jsx("dd",{className:"text-base",children:n(t.billing.sub_total)})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6 text-gray-900",children:[e.jsx("dt",{className:"text-base",children:"Status"}),t.billing.status=="UNPAID"?e.jsx("dd",{className:"text-base text-yellow-500",children:t.billing.status}):e.jsx("dd",{className:"text-base text-green-500",children:t.billing.status})]})]}),e.jsx("dl",{className:"mt-16 grid grid-cols-2 gap-x-4 text-sm text-gray-600",children:e.jsxs("div",{children:[e.jsx("dt",{className:"font-medium text-gray-900",children:"Shipping Address"}),e.jsx("dd",{className:"mt-2",children:e.jsxs("address",{className:"not-italic",children:[e.jsx("span",{className:"block",children:i.first_name+" "+i.last_name}),e.jsx("span",{className:"block",children:i.address}),e.jsx("span",{className:"block",children:i.email})]})})]})}),e.jsx("div",{className:"mt-16 border-t border-gray-200 py-6 text-right",children:e.jsx("button",{onClick:m,className:"text-white bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 shadow-lg shadow-blue-500/50 dark:shadow-lg dark:shadow-blue-800/80 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2",children:"Pay Now"})})]})})})]})})}g.layout=t=>e.jsx(x,{title:"Payment",children:t});export{g as default};

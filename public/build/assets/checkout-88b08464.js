import{q as J,r as a,j as e,y as Q}from"./app-b9d488e5.js";import{A as U}from"./appLayout-72b101d4.js";import $ from"./cardItem-62196699.js";import{S as z}from"./sweetalert2.esm.all-adb41881.js";import"./icon-99bafb37.js";import"./index-3520b6d4.js";import"./IconCheck-ff9157f9.js";import"./separator-d806fd04.js";import"./index-ea22eb05.js";import"./menuadministrator-77b98d06.js";import"./menuUser-751e72f1.js";import"./index-dc578d37.js";import"./logo_eagle_media_informatika-285b6851.js";import"./dialog-c5b43f66.js";import"./XMarkIcon-d7fc27be.js";import"./label-dfe952af.js";import"./floating-ui.react-dom-bbc02854.js";import"./TrashIcon-ee61ead0.js";function G(d,{initialItems:B}){const{errors:t,auth:H}=J().props,[n,N]=a.useState(""),[c,v]=a.useState(""),[u,w]=a.useState(""),[i,C]=a.useState(""),[m,S]=a.useState(""),[g,F]=a.useState(""),[O,D]=a.useState(""),[b,_]=a.useState(""),[x,I]=a.useState(""),[y,E]=a.useState(""),[s,p]=a.useState(!1),h=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(r),L=d.invoice.invoice_details,[l,q]=a.useState(L||B);a.useState(0),a.useEffect(()=>{JSON.stringify(l)},[l]);const T=(r,o)=>{const P=l.map(j=>j.id===r?{...j,quantity:o}:j);q(P)},R=`(${d.ppn.ppn_name})`,f=l.reduce((r,o)=>r+o.quantity*o.amount,0),k=d.ppn.ppn_nominal*f,A=f+k,Y=r=>{r.preventDefault(),p(!0),z.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Confirm!"}).then(o=>{o.isConfirmed?Q.post(route("order.buy.checkout",d.invoice.id),{invoice_id:d.invoice.id,items:l,firstName:n,lastName:c,email:u,company:i,address:m,city:g,country:O,state:b,postal_code:x,phone:y,tax:k,sub_total:A,status:"UNPAID"},{onFinish:P=>{p(!1)}}):p(!1)})};return e.jsx("main",{className:"mx-auto max-w-7xl px-4 pb-24 pt-16 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"mx-auto max-w-2xl lg:max-w-none",children:[e.jsx("h1",{className:"text-lg font-medium text-gray-900",children:"Checkout"}),e.jsxs("form",{onSubmit:Y,className:"lg:grid lg:grid-cols-2 lg:gap-x-12 xl:gap-x-16",children:[e.jsx("div",{children:e.jsxs("div",{className:"border-t border-gray-200 pt-10",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Shipping information"}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first-name",className:"block text-sm font-medium text-gray-700",children:"First name"}),s?e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"first-name",type:"text",readOnly:!0,value:n,onChange:r=>N(r.target.value),autoComplete:"first-name",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}):e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"first-name",type:"text",value:n,onChange:r=>N(r.target.value),autoComplete:"first-name",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}),t.firstName&&e.jsx("p",{className:"mt-2 text-sm text-red-500 dark:text-red-400",children:t.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last-name",className:"block text-sm font-medium text-gray-700",children:"Last name"}),s?e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"last-name",type:"text",readOnly:!0,value:c,onChange:r=>v(r.target.value),autoComplete:"last-name",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}):e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"last-name",type:"text",value:c,onChange:r=>v(r.target.value),autoComplete:"last-name",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}),t.lastName&&e.jsx("p",{className:"mt-2 text-sm text-red-500 dark:text-red-400",children:t.lastName})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),s?e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"email",type:"email",readOnly:!0,value:u,onChange:r=>w(r.target.value),className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}):e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"email",type:"email",value:u,onChange:r=>w(r.target.value),className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}),t.email&&e.jsx("p",{className:"mt-2 text-sm text-red-500 dark:text-red-400",children:t.email})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company"}),s?e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"company",type:"text",readOnly:!0,value:i,onChange:r=>C(r.target.value),className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}):e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"company",type:"text",value:i,onChange:r=>C(r.target.value),className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}),t.company&&e.jsx("p",{className:"mt-2 text-sm text-red-500 dark:text-red-400",children:t.company})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),s?e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"address",value:m,readOnly:!0,onChange:r=>S(r.target.value),type:"text",autoComplete:"street-address",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}):e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"address",value:m,onChange:r=>S(r.target.value),type:"text",autoComplete:"street-address",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}),t.address&&e.jsx("p",{className:"mt-2 text-sm text-red-500 dark:text-red-400",children:t.address})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),s?e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"city",type:"text",value:g,onChange:r=>F(r.target.value),autoComplete:"address-level2",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}):e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"city",type:"text",value:g,onChange:r=>F(r.target.value),autoComplete:"address-level2",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}),t.city&&e.jsx("p",{className:"mt-2 text-sm text-red-500 dark:text-red-400",children:t.city})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:"Country"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"country",value:O,onChange:r=>D(r.target.value),autoComplete:"country-name",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select Country"}),e.jsx("option",{value:"English",children:"English"}),e.jsx("option",{value:"Indonesia",children:"Indonesia"})]})}),t.country&&e.jsx("p",{className:"mt-2 text-sm text-red-500 dark:text-red-400",children:t.country})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"region",className:"block text-sm font-medium text-gray-700",children:"State / Province"}),s?e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"region",type:"text",readOnly:!0,value:b,onChange:r=>_(r.target.value),autoComplete:"address-level1",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}):e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"region",type:"text",value:b,onChange:r=>_(r.target.value),autoComplete:"address-level1",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}),t.state&&e.jsx("p",{className:"mt-2 text-sm text-red-500 dark:text-red-400",children:t.state})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"postal-code",className:"block text-sm font-medium text-gray-700",children:"Postal code"}),s?e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"postal-code",readOnly:!0,type:"text",value:x,onChange:r=>I(r.target.value),autoComplete:"postal-code",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}):e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"postal-code",type:"text",value:x,onChange:r=>I(r.target.value),autoComplete:"postal-code",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}),t.postal_code&&e.jsx("p",{className:"mt-2 text-sm text-red-500 dark:text-red-400",children:t.postal_code})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone"}),s?e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"phone",type:"number",readOnly:!0,value:y,onChange:r=>E(r.target.value),autoComplete:"tel",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}):e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"phone",type:"number",value:y,onChange:r=>E(r.target.value),autoComplete:"tel",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}),t.phone&&e.jsx("p",{className:"mt-2 text-sm text-red-500 dark:text-red-400",children:t.phone})]})]})]})}),e.jsxs("div",{className:"mt-10 lg:mt-0",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Order Summary"}),e.jsxs("div",{className:"mt-4 rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsx("ul",{role:"list",className:"divide-y divide-gray-200",children:l.map(r=>e.jsx($,{...r,updateQty:T},r.id))}),e.jsxs("dl",{className:"space-y-6 border-t border-gray-200 px-4 py-6 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("dt",{className:"text-sm",children:"Subtotal"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:h(f)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("dt",{className:"text-sm",children:["Taxes ",R]}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:h(k)})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6",children:[e.jsx("dt",{className:"text-base font-medium",children:"Total"}),e.jsx("dd",{className:"text-base font-medium text-gray-900",children:h(A)})]})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-6 sm:px-6",children:s?e.jsx("button",{type:"button",className:"w-full rounded-md border border-transparent bg-indigo-600 px-4 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50",children:"Loading..."}):e.jsx("button",{type:"submit",className:"w-full rounded-md border border-transparent bg-indigo-600 px-4 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50",children:"Confirm Order"})})]})]})]})]})})}G.layout=d=>e.jsx(U,{title:"Order Cart",children:d});export{G as default};
